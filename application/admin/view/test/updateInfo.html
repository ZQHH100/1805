<form class="layui-form" action="">
    <input type="hidden" value="{$data.id}" id="id" name="id">
    <div class="layui-form-item">
      <label class="layui-form-label">用户名</label>
      <div class="layui-input-block">
        <input type="text" value="{$data.name}" name="name" required  lay-verify="required" placeholder="请输入用户名" autocomplete="off" class="layui-input">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">性别</label>
      <div class="layui-input-block">
            {if condition="$data.sex==1"}
            <input type="radio" name="sex" value="1" title="男" checked>
            <input type="radio" name="sex" value="0" title="女">
            {else/}
            <input type="radio" name="sex" value="1" title="男">
            <input type="radio" name="sex" value="0" title="女" checked>
            {/if}
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">年龄</label>
      <div class="layui-input-inline">
        <input type="text" name="age"  value="{$data.age}" required lay-verify="required" placeholder="请输入年龄" autocomplete="off" class="layui-input">
      </div>
    </div>
    <div class="layui-form-item">
      <div class="layui-input-block">
        <button class="layui-btn" lay-submit lay-filter="formDemo">修改</button>
        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
      </div>
    </div>
  </form>
   
  <script>
        layui.use('form', function(){
         var form = layui.form;
    
    //监听提交
       form.on('submit(formDemo)', function(data){
        //console.log(data.field);
       //layer.msg('添加成功');
      //layer.msg(JSON.stringify(data.field));
         $.post(
                        "{:url('Test/addup')}",
                        data.field,
                        function(msg){
                         //执行成功走到
                         layer.msg(msg.font,{icon:msg.code});
                            if(msg.code==1){
                                location.href="{:url('Test/list')}";
                            }
                        },'json'
                )
      return false;
    });
  });

  </script>